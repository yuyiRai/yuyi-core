import { mockOptions, Meta, Story, Preview, Props } from '@/stories';
debugger
import CommonForm from '.';
import createForm from '../createForm';

<Meta title="Factory/createForm" component={CommonForm} />


# createForm

用于创建通用`表单`的工厂函数，通过传入通用的`配置`进行表单项的自动布局渲染

## 基本使用
```ts
const Form = createForm({
  default: [
    { label: 'FormItem1', code: 'item_1' },
    { label: 'FormItem2', code: 'item_2' },
    ...
  ]
})
export default {
  components: { Form }
}
```

<Preview isColumn columns={12}>
  <Story height="400px" name="基本使用" >
    {{
      components: { 
        BasicForm: createForm({ 
          default: [
            { label: '普通输入框', code: 'input' },
            { label: '选择框', code: 'select', type: ['select'], inputProps: { options: mockOptions } },
            { label: '选择框（多选）', code: 'multipleSelect', type: ['select'], inputProps: { mode: 'multiple', options: () => mockOptions } },
            { label: '占位符', col: 16, code: 'A2', inputProps: { placeholder: '本例展示了自定义placeholder以及表单项跨多列' } },
            { label: '默认值', code: 'A', value: () => 1 },
            { label: '机构树', code: 'org', type: [['orgTree', undefined, true]], 
              inputProps: {
                comInfo: {
                  "comcode": "31000000",
                  "comcname": "中国大地财产保险股份有限公司",
                  "orglevel": "1",
                  "uppercomcode": "31000000"
                }
              } 
            }
          ]
        }) 
      },
      template: `
        <basic-form :label-width="150" :itemContainer='{ col: 8 }' >
          <aml-auto-operation-bar align="center" slot="operation" :actions="[{ type: 'submit' }]"/>
        </basic-form>
      `
    }}
  </Story>
</Preview>

## Info
#### 组件信息
<Props of={CommonForm} />
